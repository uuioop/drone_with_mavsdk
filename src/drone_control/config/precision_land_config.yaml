# 精准降落配置文件
precision_land:
  # 控制参数
  descent_vel: 1.0          # 下降速度 (m/s)
  vel_p_gain: 1.5           # 速度P增益
  vel_i_gain: 0.1           # 速度I增益
  max_velocity: 3.0         # 最大速度 (m/s)
  target_timeout: 3.0       # 目标超时时间 (s)
  delta_position: 0.25      # 位置精度阈值 (m)
  delta_velocity: 0.25      # 速度精度阈值 (m/s)
  
  # 搜索参数
  search:
    max_radius: 2.0         # 最大搜索半径 (m)
    layer_spacing: 0.5      # 搜索层间距 (m)
    points_per_layer: 16    # 每层搜索点数
    min_altitude: -1.0      # 最低搜索高度 (m, NED坐标系)

# ArUco跟踪器配置
aruco_tracker:
  # ArUco参数
  aruco_id: 0               # 目标ArUco标记ID
  dictionary: 2             # ArUco字典类型 (DICT_4X4_250)
  marker_size: 0.5          # 标记尺寸 (m)
  
  # 控制参数
  descend_velocity: -0.5    # 下降速度 (m/s)
  xy_velocity_max: 1.0      # XY最大速度 (m/s)
  xy_error_threshold: 0.1   # XY误差阈值 (m)
  z_error_threshold: 0.1    # Z误差阈值 (m)
  approach_height: 5.0      # 接近高度 (m)
  
  # PID参数
  kp_xy: 0.5                # XY方向P增益
  kd_xy: 0.1                # XY方向D增益
  ki_xy: 0.05               # XY方向I增益
  yaw_setpoint: 0.0         # 偏航设定值 (rad)

# 相机参数 (需要根据实际相机标定结果填写)
camera:
  # 相机内参矩阵
  camera_matrix:
    - [615.0, 0.0, 320.0]
    - [0.0, 615.0, 240.0]
    - [0.0, 0.0, 1.0]
  
  # 畸变系数
  dist_coeffs: [0.1, -0.2, 0.0, 0.0, 0.0]
  
  # 相机到无人机的变换 (可选)
  camera_offset:
    x: 0.0                  # 相机相对无人机中心的X偏移 (m)
    y: 0.0                  # 相机相对无人机中心的Y偏移 (m)
    z: 0.0                  # 相机相对无人机中心的Z偏移 (m)
